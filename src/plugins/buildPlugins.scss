@each $pluginName, $plugin in $corePlugins {
  $pluginName: map-get($plugin, "name");
  $pluginStyles: map-get($plugin, "styles");
  $pluginBreakpoints: map-get($plugin, "breakpoints");

  @if (permittedCorePlugin($pluginName)) {
    @if ($pluginBreakpoints) {
      // Plugin is supplying it's own breakpoints
      @each $style in $pluginStyles {
        @include responsiveOnly(map-get($style, "breakpoint")) {
          $style: map-remove($style, "breakpoint");
          @each $selector, $properties in $style {
            .#{$selector} {
              @each $property, $value in $properties {
                #{$property}: $value#{important()};
              }
            }
          }
        }
      }
    } @else {
      @include configVariants($pluginName) using ($return) {
        $pre: map-get($return, "prefix") + escape(config("prefix"));
        $suf: map-get($return, "suffix");

        @each $style in $pluginStyles {
          @each $selector, $properties in $style {
            .#{$pre}#{$selector}#{$suf} {
              @each $property, $value in $properties {
                #{$property}: $value#{important()};
              }
            }
          }
        }
      }
    }
  }
}
